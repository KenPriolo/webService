import{w as j}from"./with-props-DbFBUsUC.js";import{r,l as e}from"./chunk-K6CSEXPM-DdwNiGzb.js";import{u as v}from"./SidebarContext-CXUqV7HX.js";import{c as w,o as S,b as k}from"./firebaseConfig-BRVrc43n.js";import{g as A}from"./index-e84cf44d-CdAT_r-a.js";const m=a=>a?typeof a=="string"?a:a.seconds?new Date(a.seconds*1e3).toLocaleDateString():"Invalid date":"N/A",$=j(function(){const{isCollapsed:o}=v(),[u,h]=r.useState([]),[l,p]=r.useState(""),[C,x]=r.useState(""),[D,b]=r.useState(""),[g,d]=r.useState(!0);r.useEffect(()=>{const i=A().onAuthStateChanged(n=>{n?(x(n.email),b(n.uid),f(n.uid)):d(!1)});return()=>i()},[]);const f=s=>{const i=w(k,`client_web/${s}/ads_client`);return S(i,N=>{const y=N.docs.map(t=>({id:t.id,...t.data(),companyName:t.data().companyName||"No company name",address:t.data().address||"No address provided",adFileUrl:t.data().adFileUrl||"",schedule:t.data().schedule||null,expiryDate:t.data().expiryDate||null,done:t.data().done||!1}));h(y),d(!1)})},c=u.filter(s=>s.companyName.toLowerCase().includes(l.toLowerCase()));return g?e.jsxs("div",{className:`min-h-screen relative transition-all duration-300 ${o?"pl-5":"pl-0"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center z-0",style:{backgroundImage:"url('../../../../assets/geo.jpg')"}}),e.jsx("div",{className:"absolute inset-0 bg-black opacity-70 z-0"}),e.jsx("div",{className:"relative z-10 p-5 flex items-center justify-center",children:e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:e.jsx("p",{className:"text-lg",children:"Loading your advertisements..."})})})]}):e.jsxs("div",{className:`min-h-screen relative transition-all duration-300 ${o?"pl-5":"pl-0"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center z-0",style:{backgroundImage:"url('../../../../assets/geo.jpg')"}}),e.jsx("div",{className:"absolute inset-0 bg-black opacity-70 z-0"}),e.jsxs("div",{className:"relative z-10 p-5",children:[e.jsx("header",{className:"flex justify-center items-center bg-white text-blue-900 p-5 rounded-lg shadow-md",children:e.jsx("h1",{className:"text-2xl font-bold",children:"My Advertisement Uploads"})}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mt-5 border border-gray-300",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Uploads & Status"}),e.jsx("input",{type:"text",placeholder:"Search by Company Name...",value:l,onChange:s=>p(s.target.value),className:"w-full p-3 border border-gray-400 rounded mb-4 text-black focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),c.length===0?e.jsx("p",{className:"text-gray-500 p-4 text-center",children:l?`No matching uploads found for "${l}"`:"No advertisements found"}):e.jsx("ul",{className:"space-y-4",children:c.map(s=>e.jsx("li",{className:"p-4 bg-gray-100 rounded-lg shadow-md hover:bg-gray-200 transition-colors duration-200 cursor-pointer",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:s.companyName}),e.jsxs("p",{className:"text-sm text-black",children:["Address: ",s.address]}),e.jsxs("p",{className:"text-sm text-black",children:["Schedule Date: ",m(s.schedule)]}),e.jsxs("p",{className:"text-sm text-black",children:["Expiry Date: ",m(s.expiryDate)]}),e.jsxs("p",{className:"text-sm text-black mt-1",children:["Video:"," ",e.jsx("a",{href:s.adFileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800 transition-colors",children:"View Video"})]}),e.jsx("span",{className:`inline-block mt-2 px-3 py-1 rounded text-white text-sm font-semibold ${s.done?"bg-green-600 hover:bg-green-700":"bg-yellow-500 hover:bg-yellow-600"} transition-colors duration-200`,children:s.done?"Completed":"In Review"})]})},s.id))})]})]})]})});export{$ as default};
